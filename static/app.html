<!DOCTYPE html>
<html>

<head>
    <title>My Chat GPT App</title>
</head>

<body>
    <form id="scrape-form">
        <label for="urls">Enter URLs to scrape (separated by newlines):</label
      ><br />
      <textarea id="urls" name="urls" rows="10" cols="50"></textarea><br />
      <button type="submit">Scrape</button>
    </form>

    <script>
      const form = document.querySelector("#scrape-form");
      const urlsInput = form.querySelector("#urls");
      const submitButton = form.querySelector('button[type="submit"]');

      form.addEventListener("submit", (event) => {
        event.preventDefault();

        const urls = urlsInput.value.trim().split("\n");

        submitButton.disabled = true;

        const xhr = new XMLHttpRequest();
        xhr.open("POST", "/api/scrape");
        xhr.setRequestHeader("Content-Type", "application/json");
        xhr.onload = () => {
          if (xhr.status === 200) {
            alert("Scraping complete!");
          } else {
            alert("Error scraping URLs");
          }
          submitButton.disabled = false;
        };
        xhr.send(JSON.stringify({ urls: urls }));
      });
    </script>
  </body>
</html>